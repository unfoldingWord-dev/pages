====== Tools ======

//**[[https://github.com/Door43/tools]]**//

//Door43 Tools are an extensible set of profiles and utilities (e.g. scripts) that function as a "render engine" to convert and export content in Door43 into various formats for offline use, e.g. PDF, EPUB, DOC, HTML, Mobile apps, etc.//

===== Overview =====

Door43 is a Dokuwiki server, which does not use a database but is instead comprised of plain text files that are minimally marked up with the Dokuwiki syntax (very similar to Markdown) and organized on the server's filesystem. This filesystem and all the text files are automatically pushed to a Git repository on Github called **[[https://github.com/Door43/pages|Door43 Pages]]**. This repository is identical to what is on the server and can be used for offline processing of Door43 content.

<ditaa round noedgesep center>

                                                   +---------+
                                               +-->| MP4  {d}|
                                               |   +---------+
                                               |
                                               |   +---------+
                                               +-->| MP3  {d}|
                                               |   +---------+
                                               |
                 +---------+      +---------+  |   +---------+
                 |         |      |         |  +-->| AMR  {d}|
                 | Door43  |      | Door43  |  |   +---------+
                 | Media   +----->| Media   +--+
              +->| cAC0    |      | (Git)   |  |   +---------+
+----------+  |  |      {s}|      | c27B {s}|  +-->| 3GP  {d}|
|          |  |  +---------+      +---------+      +---------+
|  Door43  |  |
|  Users   +--+
|          |  |  +---------+      +---------+
|          |  |  |         |      |         |
+----------+  |  | Door43  |      | Door43  |      +---------+
              +->| Pages   +----->| Pages   +----->| TXT  {d}|
                 | (.txt)  |      | (Git)   |      +---------+
                 | cAC0 {s}|      | c27B {s}|
                 +----+----+      +---------+
                      |
                      |           +---------+      +---------+
                      |           |         |  +-->| PDF  {d}|
                      | Tools     | Door43  |  |   +---------+
                      +---------->| Exports +--+
                                  | (Git)   |  |   +---------+
                                  | c27B {s}|  +-->| EPUB {d}|
                                  +---------+  |   +---------+
                                               |
                                               |   +---------+
                                               +-->| DOC  {d}|
                                               |   +---------+
                                               |
                                               |   +---------+
                                               +-->| HTML {d}|
                                                   +---------+

</ditaa>


===== Objective =====

The Door43 Tools are intended to accomplish one thing: **Present all Door43 content in multiple formats**. Specifically:

  * **Multiplexing Content** – The goal is to have Door43 content available in parallel in many different formats. The export utilities automatically process the text files and make them available in other formats as well. These exports are automatically pushed to another Git repository called **[[https://github.com/Door43/exports|Door43 Exports]]**
  * **Automatic** – The export utilities are scripts that run directly on the text files on the http://door43.org filesystem (read-only), and process them according to the render profiles (see next point). The scripts run as cron jobs on the server, converting the plain text files into other formats and putting the exported files into the "Door43 Exports" Git repository.
  * **Render Profiles** – The various formats desired for export are contained in various "profiles". A profile is comprised of a script that processes a desired project in a desired manner. For instance, the //[[en:obs|Open Bible Stories Project]]// may have a render profile that converts each story in each language into a standalone PDF, formatted for printing on A4 paper. Another render profile might convert all the stories in each language into an EPUB file.


===== Implementation =====

Whatever utilities are needed to convert the text files into various formats should be available on the Door43 server (Centos 6). Suggestions of tools to use: Ruby, shell scripts, and the amazing [[http://johnmacfarlane.net/pandoc/|Pandoc]].